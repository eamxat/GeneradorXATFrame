<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Generador Xatframes Xat Ayuda</title>
    <style>
        :root {
            --primary: #2563eb;
            --bg: #f8fafc;
            --surface: #ffffff;
            --border: #e2e8f0;
            --github: #24292f;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg);
            margin: 0;
            height: 100vh;
            display: flex;
            overflow: hidden;
            color: #1e293b;
            /* Evita selecciÃ³n de texto en el generador */
            user-select: none;
            -webkit-user-select: none;
        }

        /* Panel Lateral de Controles */
        .sidebar {
            width: 350px;
            background: var(--surface);
            border-right: 1px solid var(--border);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            overflow-y: auto;
            box-shadow: 4px 0 24px rgba(0,0,0,0.05);
            z-index: 10;
            flex-shrink: 0;
        }

        /* BotÃ³n de Idioma */
        .lang-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 5px;
        }
        
        .lang-btn {
            background: none;
            border: 1px solid #cbd5e1;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            color: #64748b;
            transition: all 0.2s;
        }

        .lang-btn:hover {
            background-color: #f1f5f9;
            color: var(--primary);
            border-color: var(--primary);
        }

        /* Contenedor Logo */
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .logo-container a {
            display: block;
            text-decoration: none;
        }
        
        .logo-img {
            width: auto;
            height: auto;
            max-width: 100%;
            display: block;
            border: none;
        }

        h1 {
            font-size: 1.5rem;
            margin: 0 0 0.5rem 0;
            color: var(--primary);
        }

        p.desc {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 1rem;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .color-group-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        label {
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #475569;
        }

        input[type="text"], select {
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.9rem;
            transition: border-color 0.2s;
            width: 100%;
            box-sizing: border-box;
            background-color: white;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }

        input[type="color"] {
            -webkit-appearance: none;
            border: none;
            width: 50px;
            height: 42px;
            cursor: pointer;
            background: none;
            padding: 0;
        }
        input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0; 
        }
        input[type="color"]::-webkit-color-swatch {
            border: 1px solid var(--border);
            border-radius: 6px;
        }

        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: background 0.2s, transform 0.1s;
            margin-top: 0.5rem;
        }

        .btn:hover {
            background-color: #1d4ed8;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--border);
            color: #475569;
        }

        .btn-outline:hover {
            border-color: #94a3b8;
            background-color: #f1f5f9;
        }

        /* BotÃ³n Descargar (Estilo sutil) */
        .btn-download {
            background-color: #10b981; /* Verde */
            color: white;
            border: none;
        }
        .btn-download:hover {
            background-color: #059669;
        }

        .btn-github {
            background-color: var(--github);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-github:hover {
            background-color: #000;
        }
        
        .btn-github svg {
            fill: white;
            width: 20px;
            height: 20px;
        }

        .btn-wiki {
            background-color: #0ea5e9;
            color: white;
        }
        .btn-wiki:hover {
            background-color: #0284c7;
        }

        .sidebar-footer {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
            text-align: center;
            font-size: 0.75rem;
            color: #94a3b8;
            line-height: 1.4;
        }

        .sidebar-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: bold;
        }
        
        .sidebar-footer a:hover {
            text-decoration: underline;
        }

        .preview-area {
            flex: 1;
            position: relative;
            background-image: 
                linear-gradient(45deg, #eee 25%, transparent 25%), 
                linear-gradient(-45deg, #eee 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, #eee 75%), 
                linear-gradient(-45deg, transparent 75%, #eee 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .preview-header {
            background: white;
            padding: 0.75rem 1.5rem;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            color: #64748b;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        iframe {
            flex: 1;
            border: none;
            width: 100%;
            height: 100%;
            display: block;
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
                height: 100vh;
                overflow-y: auto;
            }

            .sidebar {
                width: 100%;
                height: auto;
                max-height: 60vh;
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding: 1.5rem;
                box-sizing: border-box;
            }

            .preview-area {
                height: 40vh;
                min-height: 300px;
            }
        }
        
        /* Modal Tutorial */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(2px);
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #64748b;
        }

        .modal-header {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 0.5rem;
        }

        .tutorial-step {
            margin-bottom: 1.5rem;
        }

        .tutorial-step h3 {
            font-size: 1rem;
            color: var(--primary);
            margin: 0 0 0.5rem 0;
        }

        .tutorial-step ul {
            margin: 0;
            padding-left: 1.5rem;
            color: #475569;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .tutorial-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: #10b981;
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2000;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <!-- BotÃ³n de TraducciÃ³n -->
        <div class="lang-container">
            <button id="langBtn" class="lang-btn" onclick="toggleLanguage()">ðŸ‡ºðŸ‡¸ English</button>
        </div>

        <!-- Logo Section -->
        <div class="logo-container">
            <a href="https://xat.com" target="_blank">
                <img src="https://i.ibb.co/zWp0w8VW/a-coding-80.webp" 
                     alt="Logo" 
                     class="logo-img"
                     onerror="this.onerror=null; this.src='a-coding-80.webp'">
            </a>
        </div>

        <div>
            <h1 id="ui-title">Generador Xatframe</h1>
            <p class="desc">
                <span id="ui-desc">Personaliza las imÃ¡genes, animaciÃ³n y color de botÃ³n. La vista previa se actualiza automÃ¡ticamente. Para uso exclusivo de usuarios xat.com. Recomendable usarlo en tu sala de grupo.</span>
                 <div id="ui-important" style="font-size: 0.8rem; margin-top: 5px; color: #f59e0b;">Importante: Este codigo esta preparado para ser subido a la plataforma GITHUB.</div>
            </p>
        </div>

        <div class="control-group">
            <label id="ui-lbl-img1" for="img1">IMAGEN 1 URL</label>
            <input type="text" id="img1" value="https://i.ibb.co/gbZNmqGn/a-me-80.webp" placeholder="https://...">
        </div>

        <div class="control-group">
            <label id="ui-lbl-img2" for="img2">IMAGEN 2 URL</label>
            <input type="text" id="img2" value="https://i.ibb.co/gbZNmqGn/a-me-80.webp" placeholder="https://...">
        </div>

        <div class="control-group">
            <label id="ui-lbl-anim" for="animType">ESTILO DE ANIMACIÃ“N</label>
            <select id="animType">
                <option value="classic">Nieve (ClÃ¡sico)</option>
                <option value="rain">Lluvia (Vertical)</option>
                <option value="spin">Espiral (Giro Real)</option>
                <option value="wind">Viento (Lateral)</option>
                <option value="pulse">Latido (Zoom)</option>
                <option value="zigzag">Temblor (ZigZag)</option>
            </select>
        </div>

        <div class="control-group">
            <label id="ui-lbl-color" for="btnColor">Color del BotÃ³n (HEX)</label>
            <div class="color-group-row">
                <input type="color" id="btnColor" value="#0000ff">
                <input type="text" id="btnColorHex" value="#0000ff" maxlength="7" style="flex: 1; font-family: monospace;">
            </div>
        </div>

        <div style="margin-top: 1rem;">
            <button id="btn-copy" class="btn" onclick="copyCode()" style="width: 100%;">Copiar CÃ³digo HTML</button>
            <button id="btn-download" class="btn btn-outline" onclick="downloadHTML()" style="width: 100%;">Descargar .html</button>
            <button id="btn-update" class="btn btn-outline" onclick="updatePreview()" style="width: 100%;">Forzar ActualizaciÃ³n</button>
            
            <button class="btn btn-github" onclick="openTutorial()" style="width: 100%;">
                <svg viewBox="0 0 16 16" version="1.1" aria-hidden="true">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
                <span id="btn-github-text">Tutorial GitHub</span>
            </button>
            
            <button class="btn btn-wiki" onclick="window.open('https://wiki.xat.com/Xatframe/es', '_blank')" style="width: 100%;">
                Wiki XatFrames
            </button>
        </div>

        <div id="ui-footer" class="sidebar-footer">
            Codigo creado por <a href="https://xat.com/ayuda" target="_blank">Xat Ayuda</a> : DjFunny x Eam96<br>
            Todos los derechos reservados Â© 2026
        </div>
    </div>

    <div class="preview-area">
        <div class="preview-header">
            <span id="ui-preview-title">Vista Previa</span>
            <span id="ui-preview-subtitle" style="font-size: 0.8rem; opacity: 0.7;">Generador Xat Frame</span>
        </div>
        <iframe id="previewFrame" title="Vista Previa"></iframe>
    </div>

    <!-- Modal Tutorial -->
    <div id="tutorialModal" class="modal-overlay" onclick="closeTutorial(event)">
        <div class="modal-content">
            <button class="modal-close" onclick="closeTutorialBtn()">Ã—</button>
            <div id="modal-content-body">
                <!-- Contenido por defecto (EspaÃ±ol) -->
                <div class="modal-header">Tutorial: Subir a GitHub</div>
                <div class="tutorial-step">
                    <h3>âœ… 1. Registrarte en GitHub</h3>
                    <ul>
                        <li>Ve a ðŸ‘‰ <a href="https://github.com" target="_blank" class="tutorial-link">https://github.com</a></li>
                        <li>Haz clic en <strong>Sign up</strong></li>
                        <li>Ingresa: Email, ContraseÃ±a, Nombre de usuario</li>
                        <li>Verifica tu email</li>
                        <li>Listo ðŸŽ‰ Ya tienes cuenta en GitHub</li>
                    </ul>
                </div>
                <div class="tutorial-step">
                    <h3>âœ… 2. Crear un repositorio nuevo</h3>
                    <ul>
                        <li>Inicia sesiÃ³n en GitHub</li>
                        <li>Haz clic en <strong>+</strong> (arriba a la derecha)</li>
                        <li>Selecciona <strong>New repository</strong></li>
                        <li>Escribe: Nombre del repositorio, DescripciÃ³n (opcional)</li>
                        <li>Elige: <strong>Public</strong> o <strong>Private</strong></li>
                        <li>Marca <strong>Add README</strong> (recomendado)</li>
                        <li>Haz clic en <strong>Create repository</strong></li>
                        <li>ðŸ‘‰ Listo, tu repo ya existe.</li>
                    </ul>
                </div>
                <div class="tutorial-step">
                    <h3>âœ… 3. Subir archivos desde tu PC (rÃ¡pido)</h3>
                    <ul>
                        <li><strong>OpciÃ³n A â€“ Desde la web</strong></li>
                        <li>En tu repo â†’ Add file â†’ Upload files</li>
                        <li>Arrastra el archivo <code>html</code> generado (asegÃºrate de nombrarlo <code>index.html</code>)</li>
                        <li>Haz clic en <strong>Commit changes</strong>.</li>
                    </ul>
                </div>
                <div class="tutorial-step">
                    <h3>âœ… 4. Obtener enlace con terminaciÃ³n index.html</h3>
                    <ul>
                        <li>Entra a tu repositorio en GitHub.</li>
                        <li>Ve a <strong>Settings â†’ Pages</strong>.</li>
                        <li>En Branch selecciona <code>main</code> y guarda.</li>
                        <li>Tu enlace serÃ¡: <code>https://TUUSUARIO.github.io/NOMBRE-REPOSITORIO/index.html</code></li>
                        <li>Espera unos 60 segundos y presiona F5 <code>para que aparezca el link</code></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" class="toast">Â¡CÃ³digo copiado al portapapeles!</div>

    <script>
        // --- LOGICA DE TRADUCCION ---
        const translations = {
            es: {
                langBtn: "ðŸ‡ºðŸ‡¸ English",
                h1: "Generador Xatframe",
                desc: "Personaliza las imÃ¡genes, animaciÃ³n y color de botÃ³n. La vista previa se actualiza automÃ¡ticamente. Para uso exclusivo de usuarios xat.com. Recomendable usarlo en tu sala de grupo.",
                important: "Importante: Este codigo esta preparado para ser subido a la plataforma GITHUB.",
                lblImg1: "IMAGEN 1 URL",
                lblImg2: "IMAGEN 2 URL",
                lblAnim: "ESTILO DE ANIMACIÃ“N",
                lblColor: "Color del BotÃ³n (HEX)",
                btnCopy: "Copiar CÃ³digo HTML",
                btnDownload: "Descargar .html",
                btnUpdate: "Forzar ActualizaciÃ³n",
                btnGithub: "Tutorial GitHub",
                footer: "Codigo creado por <a href='https://xat.com/ayuda' target='_blank'>Xat Ayuda</a> : DjFunny x Eam96<br>Todos los derechos reservados Â© 2026",
                previewTitle: "Vista Previa",
                previewSubtitle: "Generador Xat Frame",
                options: ["Nieve (ClÃ¡sico)", "Lluvia (Vertical)", "Espiral (Giro Real)", "Viento (Lateral)", "Latido (Zoom)", "Temblor (ZigZag)"],
                toast: "Â¡CÃ³digo copiado al portapapeles!",
                tutorialHTML: `
                    <div class="modal-header">Tutorial: Subir a GitHub</div>
                    <div class="tutorial-step">
                        <h3>âœ… 1. Registrarte en GitHub</h3>
                        <ul>
                            <li>Ve a ðŸ‘‰ <a href="https://github.com" target="_blank" class="tutorial-link">https://github.com</a></li>
                            <li>Haz clic en <strong>Sign up</strong></li>
                            <li>Ingresa: Email, ContraseÃ±a, Nombre de usuario</li>
                            <li>Verifica tu email</li>
                            <li>Listo ðŸŽ‰ Ya tienes cuenta en GitHub</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 2. Crear un repositorio nuevo</h3>
                        <ul>
                            <li>Inicia sesiÃ³n en GitHub</li>
                            <li>Haz clic en <strong>+</strong> (arriba a la derecha)</li>
                            <li>Selecciona <strong>New repository</strong></li>
                            <li>Escribe: Nombre del repositorio, DescripciÃ³n (opcional)</li>
                            <li>Elige: <strong>Public</strong> o <strong>Private</strong></li>
                            <li>Marca <strong>Add README</strong> (recomendado)</li>
                            <li>Haz clic en <strong>Create repository</strong></li>
                            <li>ðŸ‘‰ Listo, tu repo ya existe.</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 3. Subir archivos desde tu PC (rÃ¡pido)</h3>
                        <ul>
                            <li><strong>OpciÃ³n A â€“ Desde la web</strong></li>
                            <li>En tu repo â†’ Add file â†’ Upload files</li>
                            <li>Arrastra el archivo <code>html</code> generado (asegÃºrate de nombrarlo <code>index.html</code>)</li>
                            <li>Haz clic en <strong>Commit changes</strong>.</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 4. Obtener enlace con terminaciÃ³n index.html</h3>
                        <ul>
                            <li>Entra a tu repositorio en GitHub.</li>
                        <li>Ve a <strong>Settings â†’ Pages</strong>.</li>
                        <li>En Branch selecciona <code>main</code> y guarda.</li>
                        <li>Tu enlace serÃ¡: <code>https://TUUSUARIO.github.io/NOMBRE-REPOSITORIO/index.html</code></li>
                        <li>Espera unos 60 segundos y presiona F5 <code>para que aparezca el link</code></li>
                        </ul>
                    </div>`
            },
            en: {
                langBtn: "ðŸ‡ªðŸ‡¸ EspaÃ±ol",
                h1: "Xatframe Generator",
                desc: "Customize images, animation, and button color. The preview updates automatically. For exclusive use of xat.com users. Recommended for use in your group room.",
                important: "Important: This code is prepared to be uploaded to the GITHUB platform.",
                lblImg1: "IMAGE 1 URL",
                lblImg2: "IMAGE 2 URL",
                lblAnim: "ANIMATION STYLE",
                lblColor: "Button Color (HEX)",
                btnCopy: "Copy HTML Code",
                btnDownload: "Download .html",
                btnUpdate: "Force Update",
                btnGithub: "GitHub Tutorial",
                footer: "Code created by <a href='https://xat.com/ayuda' target='_blank'>Xat Ayuda</a> : DjFunny x Eam96<br>All rights reserved Â© 2026",
                previewTitle: "Preview",
                previewSubtitle: "Xat Frame Generator",
                options: ["Snow (Classic)", "Rain (Vertical)", "Spiral (Real Spin)", "Wind (Lateral)", "Pulse (Zoom)", "Shake (ZigZag)"],
                toast: "Code copied to clipboard!",
                tutorialHTML: `
                    <div class="modal-header">Tutorial: Upload to GitHub</div>
                    <div class="tutorial-step">
                        <h3>âœ… 1. Sign up on GitHub</h3>
                        <ul>
                            <li>Go to ðŸ‘‰ <a href="https://github.com" target="_blank" class="tutorial-link">https://github.com</a></li>
                            <li>Click on <strong>Sign up</strong></li>
                            <li>Enter: Email, Password, Username</li>
                            <li>Verify your email</li>
                            <li>Done ðŸŽ‰ You now have a GitHub account</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 2. Create a new repository</h3>
                        <ul>
                            <li>Log in to GitHub</li>
                            <li>Click <strong>+</strong> (top right)</li>
                            <li>Select <strong>New repository</strong></li>
                            <li>Write: Repository name, Description (optional)</li>
                            <li>Choose: <strong>Public</strong> or <strong>Private</strong></li>
                            <li>Check <strong>Add README</strong> (recommended)</li>
                            <li>Click <strong>Create repository</strong></li>
                            <li>ðŸ‘‰ Done, your repo exists.</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 3. Upload files from PC (Fast)</h3>
                        <ul>
                            <li><strong>Option A â€“ From the web</strong></li>
                            <li>In your repo â†’ Add file â†’ Upload files</li>
                            <li>Drag the generated <code>html</code> file (make sure to name it <code>index.html</code>)</li>
                            <li>Click <strong>Commit changes</strong>.</li>
                        </ul>
                    </div>
                    <div class="tutorial-step">
                        <h3>âœ… 4. Get link ending in index.html</h3>
                        <ul>
                            <li>Go to your repository on GitHub.</li>
                            <li>Go to <strong>Settings â†’ Pages</strong>.</li>
                            <li>In Source select <code>main</code> and save.</li>
                            <li>Your link will be: <code>https://YOURUSER.github.io/REPO-NAME/index.html</code></li>
                            <li>In Branch, select <code>main</code> and save.</li>
                            <li>Your link will be: <code>https://YOURUSERNAME.github.io/REPOSITORY-NAME/index.html</code></li>
                            <li>Wait about 60 seconds and press F5 <code>for the link to appear</code></li
                             </ul>
                    </div>`
            }
        };

        let currentLang = 'es';

        function toggleLanguage() {
            currentLang = currentLang === 'es' ? 'en' : 'es';
            const t = translations[currentLang];

            // BotÃ³n Idioma
            document.getElementById('langBtn').textContent = t.langBtn;
            
            // Textos Interfaz
            document.getElementById('ui-title').textContent = t.h1;
            document.getElementById('ui-desc').textContent = t.desc;
            document.getElementById('ui-important').textContent = t.important;
            document.getElementById('ui-lbl-img1').textContent = t.lblImg1;
            document.getElementById('ui-lbl-img2').textContent = t.lblImg2;
            document.getElementById('ui-lbl-anim').textContent = t.lblAnim;
            document.getElementById('ui-lbl-color').textContent = t.lblColor;
            document.getElementById('btn-copy').textContent = t.btnCopy;
            document.getElementById('btn-download').textContent = t.btnDownload;
            document.getElementById('btn-update').textContent = t.btnUpdate;
            document.getElementById('btn-github-text').textContent = t.btnGithub;
            document.getElementById('ui-footer').innerHTML = t.footer;
            document.getElementById('ui-preview-title').textContent = t.previewTitle;
            document.getElementById('ui-preview-subtitle').textContent = t.previewSubtitle;
            document.getElementById('toast').textContent = t.toast;

            // Opciones del Select
            const select = document.getElementById('animType');
            for (let i = 0; i < select.options.length; i++) {
                select.options[i].text = t.options[i];
            }

            // Tutorial Modal Content
            document.getElementById('modal-content-body').innerHTML = t.tutorialHTML;
        }

        // Referencias al DOM
        const img1Input = document.getElementById('img1');
        const img2Input = document.getElementById('img2');
        const colorInput = document.getElementById('btnColor');
        const colorHexInput = document.getElementById('btnColorHex');
        const animTypeInput = document.getElementById('animType');
        const iframe = document.getElementById('previewFrame');
        const toast = document.getElementById('toast');
        const modal = document.getElementById('tutorialModal');

        // Funciones Modal
        function openTutorial() {
            modal.style.display = 'flex';
        }

        function closeTutorialBtn() {
            modal.style.display = 'none';
        }

        function closeTutorial(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // FunciÃ³n para convertir Hex a RGBA
        function hexToRgba(hex, alpha) {
            if (!/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) return `rgba(0,0,255,${alpha})`;
            let c = hex.substring(1).split('');
            if (c.length === 3) {
                c = [c[0], c[0], c[1], c[1], c[2], c[2]];
            }
            c = '0x' + c.join('');
            return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') + ',' + alpha + ')';
        }

        // SincronizaciÃ³n de inputs de color
        function syncColorInputs(source) {
            if (source === 'picker') {
                colorHexInput.value = colorInput.value;
            } else if (source === 'text') {
                let val = colorHexInput.value;
                if (!val.startsWith('#')) {
                    val = '#' + val;
                }
                if (/^#([0-9A-F]{3}){1,2}$/i.test(val)) {
                    if(val.length === 4) {
                        val = '#' + val[1] + val[1] + val[2] + val[2] + val[3] + val[3];
                    }
                    colorInput.value = val;
                }
            }
            updatePreview();
        }

        // Generador del HTML (Plantilla Maestra)
        function generateHTML() {
            const url1 = img1Input.value || '';
            const url2 = img2Input.value || '';
            const hexColor = colorInput.value;
            const rgbaColor = hexToRgba(hexColor, 0.475);
            const animStyle = animTypeInput.value;

            // ConfiguraciÃ³n dinÃ¡mica de Animaciones
            let keyframesCSS = '';
            let extraCSS = ''; // CSS adicional para rotaciÃ³n de imagen
            let fallDuration = '10s'; // DuraciÃ³n base

            switch(animStyle) {
                case 'classic':
                    // Nieve ClÃ¡sica: Balanceo suave
                    keyframesCSS = `@keyframes snowflakes-shake { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(80px); } }`;
                    break;
                case 'rain':
                    // Lluvia: CaÃ­da recta y rÃ¡pida
                    fallDuration = '5s';
                    keyframesCSS = `@keyframes snowflakes-shake { 0%, 100% { transform: translateX(0); } }`;
                    break;
                case 'spin':
                    // Espiral (Giro): Balanceo sutil + RotaciÃ³n de la imagen
                    keyframesCSS = `@keyframes snowflakes-shake { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(20px); } }`;
                    extraCSS = `
                    @keyframes snowflakes-spin { 100% { transform: rotate(360deg); } }
                    .inner img { animation: snowflakes-spin 4s linear infinite; }
                    `;
                    break;
                case 'wind':
                    // Viento: Balanceo amplio hacia un lado
                    keyframesCSS = `@keyframes snowflakes-shake { 0% { transform: translateX(0); } 50% { transform: translateX(150px); } 100% { transform: translateX(0); } }`;
                    break;
                case 'pulse':
                    // Latido: Escala
                    keyframesCSS = `@keyframes snowflakes-shake { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); } }`;
                    break;
                case 'zigzag':
                    // Temblor: Movimiento rÃ¡pido zig-zag
                    fallDuration = '8s';
                    keyframesCSS = `@keyframes snowflakes-shake { 
                        0% { transform: translateX(0); } 
                        25% { transform: translateX(30px); } 
                        50% { transform: translateX(0); } 
                        75% { transform: translateX(-30px); } 
                        100% { transform: translateX(0); } 
                    }`;
                    break;
            }

            return `<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MI XATFRAME</title>
    <style>
        html { background-color: transparent; }
        body {
            background-color: transparent;
            margin-top: 4rem; margin-left: 0; margin-right: 0;
            height: 100vh; overflow: hidden;
            font-family: sans-serif;
            user-select: none; -webkit-user-select: none;
            -moz-user-select: none; -ms-user-select: none;
        }
        button {
            background-color: ${rgbaColor}; color: white; border: none;
            padding: 10px 20px; font-size: 16px; cursor: pointer;
            border-radius: 5px; position: relative; z-index: 10000;
            transition: background-color 0.2s;
        }
        button:hover { background-color: ${hexColor}; color: white; }
        .snowflakes { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        .snowflake {
            color: #fff; font-size: 1em; font-family: Arial, sans-serif;
            text-shadow: 0 0 5px #000; position: fixed; top: -150px; z-index: 9999;
            user-select: none; cursor: default;
            animation-name: snowflakes-shake; animation-duration: 3s;
            animation-timing-function: ease-in-out; animation-iteration-count: infinite;
            animation-play-state: running;
        }
        .snowflake .inner {
            animation-name: snowflakes-fall; animation-duration: ${fallDuration};
            animation-timing-function: linear; animation-iteration-count: infinite;
            animation-play-state: running;
        }
        @keyframes snowflakes-fall { 0% { transform: translateY(0); } 100% { transform: translateY(110vh); } }
        
        /* AnimaciÃ³n seleccionada */
        ${keyframesCSS}

        .inner img { display: block; border-radius: 50%; filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.5)); }
        .inner img[src*="a-wocup-40.webp"] { filter: none; }
        .inner span { font-size: 40px; display: block; }

        /* CSS Extra (Ej: RotaciÃ³n para Espiral) */
        ${extraCSS}

        /* DistribuciÃ³n */
        .snowflake:nth-of-type(1) { left: 1%; animation-delay: 0s; } .snowflake:nth-of-type(1) .inner { animation-delay: 0s; }
        .snowflake:nth-of-type(2) { left: 10%; animation-delay: 1s; } .snowflake:nth-of-type(2) .inner { animation-delay: 1s; }
        .snowflake:nth-of-type(3) { left: 20%; animation-delay: 0.5s; } .snowflake:nth-of-type(3) .inner { animation-delay: 6s; }
        .snowflake:nth-of-type(4) { left: 30%; animation-delay: 2s; } .snowflake:nth-of-type(4) .inner { animation-delay: 4s; }
        .snowflake:nth-of-type(5) { left: 40%; animation-delay: 2s; } .snowflake:nth-of-type(5) .inner { animation-delay: 2s; }
        .snowflake:nth-of-type(6) { left: 50%; animation-delay: 3s; } .snowflake:nth-of-type(6) .inner { animation-delay: 8s; }
        .snowflake:nth-of-type(7) { left: 60%; animation-delay: 2s; } .snowflake:nth-of-type(7) .inner { animation-delay: 6s; } 
        .snowflake:nth-of-type(8) { left: 70%; animation-delay: 1s; } .snowflake:nth-of-type(8) .inner { animation-delay: 2.5s; }
        .snowflake:nth-of-type(9) { left: 80%; animation-delay: 0s; } .snowflake:nth-of-type(9) .inner { animation-delay: 1s; }
        .snowflake:nth-of-type(10) { left: 90%; animation-delay: 1.5s; } .snowflake:nth-of-type(10) .inner { animation-delay: 3s; }
        .snowflake:nth-of-type(11) { left: 25%; animation-delay: 0s; } .snowflake:nth-of-type(11) .inner { animation-delay: 2s; }
        .snowflake:nth-of-type(12) { left: 65%; animation-delay: 2.5s; } .snowflake:nth-of-type(12) .inner { animation-delay: 4s; }
    </style>
</head>
<body>
    <button id="button">Apagar</button>
    <div class="snowflakes" aria-hidden="true" id="maindiv">
        <div class="snowflake"><div class="inner"><img width="45" height="45" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="60" height="60" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="80" height="80" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="40" height="40" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="100" height="100" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="55" height="55" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="70" height="70" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="90" height="90" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="50" height="50" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="75" height="75" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="110" height="110" src="${url1}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
        <div class="snowflake"><div class="inner"><img width="35" height="35" src="${url2}" alt="img" referrerpolicy="no-referrer" onerror="this.style.display='none'; this.parentElement.innerHTML='<span>ðŸ›‘</span>'"></div></div>
    </div>
    <script>
        const toggleButton = document.getElementById("button");
        const mainDiv = document.getElementById("maindiv");
        toggleButton.addEventListener("click", () => {
            if (mainDiv.style.display === "none") { mainDiv.style.display = "block"; toggleButton.textContent = "Apagar"; }
            else { mainDiv.style.display = "none"; toggleButton.textContent = "Encender"; }
        });
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if(e.key == 'F12' || (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key)) || (e.ctrlKey && e.key === 'u')) {
                e.preventDefault(); return false;
            }
        });
    <\/script>
</body>
</html>`;
        }

        function updatePreview() {
            const code = generateHTML();
            iframe.srcdoc = code;
        }

        function copyCode() {
            const code = generateHTML();
            
            const textarea = document.createElement('textarea');
            textarea.value = code;
            textarea.style.position = 'fixed'; 
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy'); 
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 3000);
            } catch (err) {
                console.error('Error al copiar', err);
                alert('No se pudo copiar automÃ¡ticamente.');
            }
            
            document.body.removeChild(textarea);
        }

        function downloadHTML() {
            const code = generateHTML();
            const blob = new Blob([code], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'index.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Listeners
        img1Input.addEventListener('input', updatePreview);
        img2Input.addEventListener('input', updatePreview);
        animTypeInput.addEventListener('change', updatePreview); // Nuevo listener para el estilo
        
        // Listeners para color sincronizado
        colorInput.addEventListener('input', () => syncColorInputs('picker'));
        colorHexInput.addEventListener('input', () => syncColorInputs('text'));

        // Bloqueo de seguridad para el generador
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', event => {
            if (event.key === 'F12' || 
                (event.ctrlKey && event.shiftKey && ['I', 'J', 'C'].includes(event.key)) || 
                (event.ctrlKey && event.key === 'u')) {
                event.preventDefault();
                return false;
            }
        });

        // Inicializar
        updatePreview();
    </script>
</body>
</html>
